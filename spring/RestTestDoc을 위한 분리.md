> 본인이 생각하는 개인적인 테스트 코드의 구현 기준과 여부

# 1. 통합 테스트

* 통합 테스트는 수정 사항들이 통합 될 때, 사전에 미리 심각한 오류를 방지할 수 있다.

## 1.1 통합 테스트는 시간이 오래 걸리고 어렵다.

* SpringBoot 테스트로 전체적인 비지니스 로직을 점검하기 위해 사용한다. 
* 중요) Mock 객체가 아닌 실제 객체를 사용한다. 
* 중요) DB에 INSERT가 하는 것이 아닌 JPA Context로 올리고 flush()로 db에 확인만 하고 다시 롤백하는 방식으로 구현 
* 기본적으로 스프링부트테스트에 @Transactional을 사용하면 롤백되는 것으로 알고 있지만, 설정에 따라 달라질 수 있음.
* 통합 테스트라는 것은 정답이 없다.
* 주문이라고 했을 경우, 로그인부터, 주문 했을 때, 결제까지 모든 과정을 테스트한다.
* 해당 테스트 코드를 살폈을 때, 전체적인 비지니스 로직을 파악할 수 있어야 한다.

## 1.2. API 문서화 여부

** RestDocTest으로 구현할 필요는 없다.
** 변경점이 심한 빌드가 나오거나 통합적인 테스트를 위해서 1주, 2주 사이의 통합적인 버전을 올릴 경우
** CI /CD 과정에서 통합 테스트를 진행하는 것이 바람직하다고 생각한다.

# 2. 단위 테스트

* 단위 테스트는 내가 모르는 소스 변경에 대한 사이드 이펙트를 방지할 수 있다.
* 간단한 것이라도 Controller는 모두 구현한다.
* CI /CD 진행 시 단위 테스트에 대한 Test 케이스 여부는 아직 모르겠다. 테스트 케이스에 따른 빌드 시간 단축이 필요하다고 생각하여 진행하지 않는 방향이 좋다고 생각이 들긴 한다.
* 최소한 Presentation(Controller)은 API로 문서화하여 남긴다.

## 2.1. 테스트 방법 및 범위

* 변경점을 파악할 수 있도록 적어도 Business(Service), Presentation(Controller), DataAccess(Repository) 레이어에 따른 테스트를 작성해야 한다.
* Presentation(Controller) = @MvcController
* DataAccess(Repository) = @DataJpaTest @JdbcTest
* Business(Service) = moskito로 서비스단만 테스트

## 2.2. 내 구현 여부 기준

* Controller는 반드시 구현하는 것이 좋다.
* DataAccess의 경우 구현할 필요가 없다고 본다. 다만, 오류가 나거나 복잡한 로직은 테스트 코드 작성이 필요하다.
* Business(Service) = 단순 DataAccess에 인자를 넘겨 데이터를 받는 경우 테스트 코드는 필요없다. 비지니스 로직이 있는 경우 작성하는게 좋다.

